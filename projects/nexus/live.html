<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS | The Neural Interface</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&family=Syncopate:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/split-type"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <style>
        :root {
            --bg: #030305;
            --primary: #00f3ff;
            --secondary: #bd00ff;
            --surface: rgba(10, 10, 15, 0.6);
            --border: rgba(255, 255, 255, 0.1);
            --font-head: 'Syncopate', sans-serif;
            --font-body: 'Rajdhani', sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background-color: var(--bg);
            color: #fff;
            font-family: var(--font-body);
            overflow-x: hidden;
            cursor: none; /* Custom cursor */
        }

        /* --- Custom Cursor --- */
        .cursor {
            width: 20px; height: 20px;
            border: 1px solid var(--primary);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
            mix-blend-mode: difference;
            transition: width 0.3s, height 0.3s, background 0.3s;
        }
        .cursor-dot {
            width: 4px; height: 4px;
            background: var(--primary);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            transform: translate(-50%, -50%);
        }
        body:hover .cursor { opacity: 1; }
        
        /* --- WebGL Canvas --- */
        #canvas-container {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100vh;
            z-index: -1;
            opacity: 0; /* Fade in on load */
            transition: opacity 1s ease;
        }

        /* --- UI Elements --- */
        nav {
            position: fixed;
            top: 0; width: 100%;
            padding: 2rem 3rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            mix-blend-mode: exclusion;
        }

        .logo {
            font-family: var(--font-head);
            font-weight: 700;
            font-size: 1.5rem;
            letter-spacing: 2px;
            color: #fff;
            text-decoration: none;
        }

        .menu-btn {
            font-family: var(--font-head);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            position: relative;
        }
        .menu-btn::after {
            content: ''; position: absolute; bottom: -5px; left: 0;
            width: 0%; height: 1px; background: var(--primary);
            transition: 0.3s;
        }
        .menu-btn:hover::after { width: 100%; }

        /* --- Loading Screen --- */
        .loader {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 999;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        .loader-bar {
            width: 200px; height: 2px;
            background: #333;
            margin-top: 1rem;
            position: relative;
            overflow: hidden;
        }
        .loader-progress {
            position: absolute; top: 0; left: 0;
            height: 100%; width: 0%;
            background: var(--primary);
            transition: width 0.1s;
        }
        .loader-text {
            font-family: var(--font-head);
            font-size: 3rem;
            letter-spacing: 5px;
            font-weight: 700;
        }

        /* --- Sections --- */
        section {
            min-height: 100vh;
            padding: 4rem 2rem;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .hero {
            align-items: center;
            text-align: center;
        }

        .hero h1 {
            font-family: var(--font-head);
            font-size: 8vw;
            line-height: 0.9;
            text-transform: uppercase;
            mix-blend-mode: overlay;
            opacity: 0;
            transform: translateY(50px);
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 2rem auto;
            color: rgba(255,255,255,0.7);
            letter-spacing: 1px;
            opacity: 0;
            transform: translateY(30px);
        }

        .cta-btn {
            padding: 1rem 3rem;
            border: 1px solid var(--primary);
            color: var(--primary);
            text-transform: uppercase;
            font-family: var(--font-head);
            font-size: 0.9rem;
            letter-spacing: 2px;
            background: transparent;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateY(30px);
        }
        .cta-btn::before {
            content: '';
            position: absolute; top: 0; left: -100%;
            width: 100%; height: 100%;
            background: var(--primary);
            transition: 0.3s;
            z-index: -1;
        }
        .cta-btn:hover::before { left: 0; }
        .cta-btn:hover { color: #000; box-shadow: 0 0 30px var(--primary); }

        /* HUD Overlay */
        .hud-corner {
            position: fixed;
            width: 100px; height: 100px;
            border: 1px solid rgba(255,255,255,0.1);
            pointer-events: none;
            z-index: 50;
        }
        .hud-tl { top: 2rem; left: 2rem; border-right: none; border-bottom: none; }
        .hud-tr { top: 2rem; right: 2rem; border-left: none; border-bottom: none; }
        .hud-bl { bottom: 2rem; left: 2rem; border-right: none; border-top: none; }
        .hud-br { bottom: 2rem; right: 2rem; border-left: none; border-top: none; }

        .hud-text {
            position: fixed;
            bottom: 2rem; left: 50%;
            transform: translateX(-50%);
            font-family: var(--font-head);
            font-size: 0.7rem;
            letter-spacing: 2px;
            color: rgba(255,255,255,0.5);
            z-index: 50;
        }

        /* Features */
        .features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }
        .feature-card {
            background: rgba(255,255,255,0.02);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            padding: 3rem;
            transition: 0.3s;
        }
        .feature-card:hover {
            border-color: var(--primary);
            transform: translateY(-10px);
            background: rgba(0, 243, 255, 0.05);
        }
        .f-icon {
            font-size: 2rem; margin-bottom: 1.5rem; color: var(--primary);
        }
        .f-title {
            font-family: var(--font-head);
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }
        .f-desc {
            color: rgba(255,255,255,0.6);
            line-height: 1.6;
        }

        /* Specs (Scroll Horizontal) */
        .scroll-section {
            height: 400vh; /* Long scroll area for pinning */
            position: relative;
        }
        .scroll-content {
            position: sticky;
            top: 0;
            height: 100vh;
            overflow: hidden;
            display: flex;
            align-items: center;
        }
        .scroll-track {
            display: flex;
            gap: 10vw;
            padding-left: 10vw;
        }
        .spec-item {
            min-width: 60vw;
            font-size: 4rem;
            font-family: var(--font-head);
            color: transparent;
            -webkit-text-stroke: 2px rgba(255,255,255,0.3);
            transition: 0.3s;
        }
        .spec-item.active {
            color: white;
            -webkit-text-stroke: 0px;
            text-shadow: 0 0 30px rgba(255,255,255,0.5);
        }

        /* Footer */
        footer {
            border-top: 1px solid var(--border);
            padding: 4rem 2rem;
            text-align: center;
            font-family: var(--font-head);
            font-size: 0.8rem;
            letter-spacing: 2px;
            color: rgba(255,255,255,0.4);
        }

        @media(max-width: 768px) {
            .hero h1 { font-size: 15vw; }
            .features { grid-template-columns: 1fr; }
            .spec-item { font-size: 2rem; min-width: 80vw; }
        }
    </style>
</head>
<body>

    <!-- Cursor -->
    <div class="cursor"></div>
    <div class="cursor-dot"></div>

    <!-- WebGL Background -->
    <div id="canvas-container"></div>

    <!-- Loader -->
    <div class="loader">
        <div class="loader-text">INITIALIZING</div>
        <div class="loader-bar"><div class="loader-progress"></div></div>
    </div>

    <!-- HUD -->
    <div class="hud-corner hud-tl"></div>
    <div class="hud-corner hud-tr"></div>
    <div class="hud-corner hud-bl"></div>
    <div class="hud-corner hud-br"></div>
    <div class="hud-text">SYS.VER.2.0.4 // ONLINE</div>

    <!-- Navigation -->
    <nav>
        <a href="#" class="logo">NEXUS</a>
        <div class="menu-btn">MENU</div>
    </nav>

    <!-- Content -->
    <div id="smooth-wrapper">
        <div id="smooth-content">
            
            <section class="hero">
                <h1>Beyond<br>Reality</h1>
                <p>The first neural interface designed for the mass market. Step into the void.</p>
                <button class="cta-btn">Initiate Sequence</button>
            </section>

            <section class="features">
                <div class="feature-card">
                    <div class="f-icon">âœ¦</div>
                    <div class="f-title">8K Retina</div>
                    <div class="f-desc">Micro-OLED panels delivering 60 pixels per degree. Indistinguishable from the physical world.</div>
                </div>
                <div class="feature-card">
                    <div class="f-icon">âš¡</div>
                    <div class="f-title">Zero Latency</div>
                    <div class="f-desc">Proprietary photon-to-motion engine ensures instantaneous response times under 2ms.</div>
                </div>
                <div class="feature-card">
                    <div class="f-icon">ðŸ§ </div>
                    <div class="f-title">Neural Link</div>
                    <div class="f-desc">Non-invasive BCI sensors detect intent before you even move your hand.</div>
                </div>
            </section>

            <section class="scroll-section">
                <div class="scroll-content">
                    <div class="scroll-track">
                        <div class="spec-item">120Hz REFRESH</div>
                        <div class="spec-item">200Â° FOV</div>
                        <div class="spec-item">HAPTIC SUIT</div>
                        <div class="spec-item">EYE TRACKING</div>
                    </div>
                </div>
            </section>

            <footer>
                NEXUS INDUSTRIES Â© 2026 // ALL SYSTEMS OPERATIONAL
            </footer>

        </div>
    </div>

    <script>
        // --- Custom Cursor ---
        const cursor = document.querySelector('.cursor');
        const cursorDot = document.querySelector('.cursor-dot');
        
        document.addEventListener('mousemove', (e) => {
            cursorDot.style.left = e.clientX + 'px';
            cursorDot.style.top = e.clientY + 'px';
            
            // Lag effect for outer circle
            setTimeout(() => {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
            }, 50);
        });

        document.addEventListener('mousedown', () => {
            cursor.style.transform = "translate(-50%, -50%) scale(0.5)";
        });
        
        document.addEventListener('mouseup', () => {
            cursor.style.transform = "translate(-50%, -50%) scale(1)";
        });

        // --- Three.js Setup (The "Core") ---
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x030305, 0.02); // Distance fog

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 5;

        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        // Geometries
        const coreGeo = new THREE.IcosahedronGeometry(1, 4);
        const wireframeMat = new THREE.MeshBasicMaterial({ 
            color: 0x00f3ff, 
            wireframe: true, 
            transparent: true, 
            opacity: 0.3 
        });
        const core = new THREE.Mesh(coreGeo, wireframeMat);
        scene.add(core);

        // Particle Cloud
        const particlesGeo = new THREE.BufferGeometry();
        const particlesCount = 2000;
        const posArray = new Float32Array(particlesCount * 3);

        for(let i = 0; i < particlesCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 15; // Spread
        }

        particlesGeo.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const particlesMat = new THREE.PointsMaterial({
            size: 0.02,
            color: 0xbd00ff,
            transparent: true,
            opacity: 0.8,
            blending: THREE.AdditiveBlending
        });
        const particlesMesh = new THREE.Points(particlesGeo, particlesMat);
        scene.add(particlesMesh);

        // Outer Rings
        const ringGeo = new THREE.TorusGeometry(3, 0.02, 16, 100);
        const ringMat = new THREE.MeshBasicMaterial({ color: 0xffffff, transparent: true, opacity: 0.1 });
        const ring1 = new THREE.Mesh(ringGeo, ringMat);
        const ring2 = new THREE.Mesh(ringGeo, ringMat);
        const ring3 = new THREE.Mesh(ringGeo, ringMat);
        
        ring1.rotation.x = Math.PI / 2;
        ring2.rotation.y = Math.PI / 2;
        
        scene.add(ring1);
        scene.add(ring2);
        scene.add(ring3);

        // Lights
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);
        
        const pointLight = new THREE.PointLight(0x00f3ff, 2);
        pointLight.position.set(2, 3, 4);
        scene.add(pointLight);

        // Animation Loop
        let mouseX = 0;
        let mouseY = 0;
        let targetX = 0;
        let targetY = 0;

        const windowHalfX = window.innerWidth / 2;
        const windowHalfY = window.innerHeight / 2;

        document.addEventListener('mousemove', (event) => {
            mouseX = (event.clientX - windowHalfX);
            mouseY = (event.clientY - windowHalfY);
        });

        const clock = new THREE.Clock();

        function animate() {
            const elapsedTime = clock.getElapsedTime();

            targetX = mouseX * 0.001;
            targetY = mouseY * 0.001;

            // Rotate Core
            core.rotation.y += 0.005;
            core.rotation.x += 0.002;
            
            // Pulse Core
            const scale = 1 + Math.sin(elapsedTime * 2) * 0.1;
            core.scale.set(scale, scale, scale);

            // Rotate Particles
            particlesMesh.rotation.y = elapsedTime * 0.05;
            particlesMesh.rotation.x = mouseY * 0.0005;

            // Rotate Rings (Gyroscopic effect)
            ring1.rotation.x += 0.01;
            ring1.rotation.y += 0.005;
            ring2.rotation.y += 0.01;
            ring2.rotation.z += 0.005;
            ring3.rotation.z += 0.01;
            ring3.rotation.x += 0.005;

            // Mouse Interaction Parallax
            core.rotation.y += 0.05 * (targetX - core.rotation.y);
            core.rotation.x += 0.05 * (targetY - core.rotation.x);

            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }
        animate();

        // Handle Resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // --- Page Logic (GSAP + Lenis) ---
        
        // 1. Loader Logic
        const progress = document.querySelector('.loader-progress');
        const loader = document.querySelector('.loader');
        const canvasContainer = document.getElementById('canvas-container');

        let loadVal = 0;
        const interval = setInterval(() => {
            loadVal += Math.random() * 10;
            if (loadVal >= 100) {
                loadVal = 100;
                clearInterval(interval);
                
                // Animation Complete
                gsap.to('.loader', {
                    yPercent: -100,
                    duration: 1,
                    ease: 'power4.inOut',
                    onComplete: () => {
                        // Reveal Hero
                        canvasContainer.style.opacity = 1;
                        gsap.to('.hero h1', { opacity: 1, y: 0, duration: 1, delay: 0.2 });
                        gsap.to('.hero p', { opacity: 1, y: 0, duration: 1, delay: 0.4 });
                        gsap.to('.cta-btn', { opacity: 1, y: 0, duration: 1, delay: 0.6 });
                    }
                });
            }
            progress.style.width = loadVal + '%';
        }, 100);

        // 2. Lenis Smooth Scroll
        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            direction: 'vertical',
            gestureDirection: 'vertical',
            smooth: true,
            mouseMultiplier: 1,
            smoothTouch: false,
            touchMultiplier: 2,
        });

        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);

        // 3. Scroll Triggers
        gsap.registerPlugin(ScrollTrigger);

        // Features Fade In
        gsap.utils.toArray('.feature-card').forEach((card, i) => {
            gsap.from(card, {
                scrollTrigger: {
                    trigger: card,
                    start: "top 85%",
                    toggleActions: "play none none reverse"
                },
                y: 50,
                opacity: 0,
                duration: 0.8,
                delay: i * 0.1
            });
        });

        // Horizontal Scroll for Specs
        const track = document.querySelector('.scroll-track');
        const items = document.querySelectorAll('.spec-item');
        
        // Horizontal movement
        gsap.to(track, {
            x: () => -(track.scrollWidth - window.innerWidth),
            ease: "none",
            scrollTrigger: {
                trigger: ".scroll-section",
                start: "top top",
                end: "bottom bottom",
                scrub: 1,
                pin: true,
                anticipatePin: 1
            }
        });

        // Highlight items as they pass center
        items.forEach(item => {
            ScrollTrigger.create({
                trigger: item,
                containerAnimation: gsap.getTweensOf(track)[0], // Link to horizontal tween
                start: "center 60%",
                end: "center 40%",
                onEnter: () => item.classList.add('active'),
                onLeave: () => item.classList.remove('active'),
                onEnterBack: () => item.classList.add('active'),
                onLeaveBack: () => item.classList.remove('active')
            });
        });

        // 4. Connect Scroll to Three.js
        // Zoom camera in/out based on scroll
        gsap.to(camera.position, {
            z: 2, // Zoom in
            scrollTrigger: {
                trigger: "body",
                start: "top top",
                end: "bottom bottom",
                scrub: true
            }
        });
        
        // Rotate rings faster on scroll
        gsap.to(ring1.rotation, { x: Math.PI * 4, scrollTrigger: { trigger: "body", start: "top top", end: "bottom bottom", scrub: 2 }});
        gsap.to(ring2.rotation, { y: Math.PI * 4, scrollTrigger: { trigger: "body", start: "top top", end: "bottom bottom", scrub: 2 }});

    </script>
</body>
</html>
