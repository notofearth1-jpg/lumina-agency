<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS | THE VOID</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <style>
        body { margin: 0; background: #000; overflow: hidden; font-family: 'Orbitron', sans-serif; color: #fff; }
        canvas { display: block; position: fixed; top: 0; left: 0; z-index: 0; }
        
        #ui {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 10;
            mix-blend-mode: exclusion;
        }

        .hero-title {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            text-align: center; width: 100%;
        }

        h1 {
            font-size: 10vw; line-height: 0.8; margin: 0;
            text-transform: uppercase; letter-spacing: -5px;
            opacity: 0; clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);
        }
        
        .sub {
            font-size: 1.5rem; letter-spacing: 10px; margin-top: 2rem;
            color: #00f3ff; opacity: 0;
        }

        .overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, rgba(0,0,0,0.8), transparent 20%, transparent 80%, rgba(0,0,0,0.8));
            background-size: 100% 4px;
            pointer-events: none; z-index: 5;
        }

        .scanline {
            position: absolute; top: 0; left: 0; width: 100%; height: 20px;
            background: rgba(0, 243, 255, 0.1);
            animation: scan 4s linear infinite;
            z-index: 6; pointer-events: none;
        }

        @keyframes scan { 0% { top: -10%; } 100% { top: 110%; } }

        /* HUD Elements */
        .hud { position: absolute; font-size: 10px; color: rgba(255,255,255,0.5); }
        .tl { top: 30px; left: 30px; border-top: 1px solid #fff; border-left: 1px solid #fff; width: 50px; height: 50px; }
        .br { bottom: 30px; right: 30px; border-bottom: 1px solid #fff; border-right: 1px solid #fff; width: 50px; height: 50px; }
        
        .scroll-prompt {
            position: absolute; bottom: 50px; left: 50%; transform: translateX(-50%);
            font-size: 12px; letter-spacing: 2px; animation: blink 2s infinite;
        }
        @keyframes blink { 0%, 100% { opacity: 0.3; } 50% { opacity: 1; } }

        .vignette {
            position: fixed; inset: 0;
            background: radial-gradient(circle, transparent 50%, black 120%);
            z-index: 2; pointer-events: none;
        }
    </style>
</head>
<body>

    <div class="overlay"></div>
    <div class="scanline"></div>
    <div class="vignette"></div>

    <div id="ui">
        <div class="hud tl"></div>
        <div class="hud br"></div>
        <div class="hero-title">
            <h1>NEXUS</h1>
            <h1>REALITY</h1>
            <div class="sub">SYSTEM ONLINE</div>
        </div>
        <div class="scroll-prompt">SCROLL TO DIVE</div>
    </div>

    <script id="vertexShader" type="x-shader/x-vertex">
        varying vec2 vUv;
        void main() {
            vUv = uv;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
    </script>

    <script id="fragmentShader" type="x-shader/x-fragment">
        uniform float iTime;
        uniform vec2 iResolution;
        uniform float iSpeed;
        varying vec2 vUv;

        // Noise Function
        float hash(vec2 p) { return fract(1e4 * sin(17.0 * p.x + p.y * 0.1) * (0.1 + abs(sin(p.y * 13.0 + p.x)))); }
        
        void main() {
            vec2 uv = (vUv - 0.5) * 2.0;
            uv.x *= iResolution.x / iResolution.y;
            
            float r = length(uv);
            float a = atan(uv.y, uv.x);
            
            // Warp tunnel
            float f = smoothstep(-0.5, 1.0, sin(a * 10.0 + iTime));
            vec2 tun = vec2(1.0/r + iTime * iSpeed, a / 3.14159);
            
            // Grid pattern
            float grid = step(0.95, fract(tun.x * 5.0)) + step(0.95, fract(tun.y * 10.0));
            
            // Color grading
            vec3 col = vec3(0.0, 0.0, 0.0);
            col += vec3(0.0, 0.8, 1.0) * grid * (r * r); // Neon Cyan grid
            col += vec3(0.5, 0.0, 1.0) * (1.0 - grid) * smoothstep(0.0, 1.0, hash(tun * 20.0)) * 0.2; // Purple noise
            
            // Depth fog
            col *= smoothstep(0.0, 0.8, r);

            gl_FragColor = vec4(col, 1.0);
        }
    </script>

    <script>
        // Setup Three.js
        const scene = new THREE.Scene();
        const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0.1, 10);
        camera.position.z = 1;

        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Uniforms for Shader
        const uniforms = {
            iTime: { value: 0 },
            iResolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },
            iSpeed: { value: 1.0 } // Scroll speed controls this
        };

        // Screen Quad
        const geometry = new THREE.PlaneGeometry(2, 2);
        const material = new THREE.ShaderMaterial({
            uniforms: uniforms,
            vertexShader: document.getElementById('vertexShader').textContent,
            fragmentShader: document.getElementById('fragmentShader').textContent
        });

        const mesh = new THREE.Mesh(geometry, material);
        scene.add(mesh);

        // Animation Loop
        const clock = new THREE.Clock();
        
        // Scroll Logic
        let targetSpeed = 0.5;
        let currentSpeed = 0.5;
        
        window.addEventListener('wheel', (e) => {
            targetSpeed += e.deltaY * 0.005;
            targetSpeed = Math.max(0.5, Math.min(targetSpeed, 5.0)); // Clamp speed
        });

        function animate() {
            uniforms.iTime.value = clock.getElapsedTime();
            
            // Smooth speed decay
            targetSpeed += (0.5 - targetSpeed) * 0.05; 
            currentSpeed += (targetSpeed - currentSpeed) * 0.1;
            
            uniforms.iSpeed.value = currentSpeed;

            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }
        animate();

        // Intro Animation (GSAP)
        gsap.to('h1', {
            y: 0, opacity: 1, duration: 1.5, stagger: 0.2, ease: "power4.out", delay: 0.5
        });
        gsap.to('.sub', {
            opacity: 1, duration: 1, delay: 1.5
        });

        // Resize
        window.addEventListener('resize', () => {
            renderer.setSize(window.innerWidth, window.innerHeight);
            uniforms.iResolution.value.set(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>